"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(k,c,i)=>{i.r(c),i.d(c,{LoginPageModule:()=>w});var m=i(2881),a=i(9417),u=i(3092),f=i(9870),h=i(980),o=i(1360),v=i(2101),C=i(7248),P=i(2091);function b(n,l){if(1&n&&(o.j41(0,"div",5)(1,"ion-text"),o.EFF(2),o.k0s()()),2&n){const g=o.XpG();o.R7$(2),o.SpI(" ",g.messageError,"")}}function x(n,l){1&n&&(o.j41(0,"ion-text",11),o.EFF(1," Ingresa un email v\xe1lido. "),o.k0s())}function F(n,l){1&n&&(o.j41(0,"ion-text",11),o.EFF(1," Ingrese su contrase\xf1a. "),o.k0s())}const L=[{path:"",component:(()=>{var n;class l{constructor(t,e,s,r,d){this.fb=t,this.router=e,this.usuarioService=s,this.toastController=r,this.tokenService=d,this.hasError=!1,this.messageError="",this.formEnviado=!1,this.loginForm=this.fb.group({user:["",[a.k0.required,a.k0.email]],password:["",a.k0.required]})}ngOnInit(){}onSubmit(){if(!this.formEnviado)return this.formEnviado=!0,this.loginForm.valid?void this.usuarioService.login({email:this.loginForm.controls.user.value,password:this.loginForm.controls.password.value},!0).pipe((0,h.j)(()=>{this.formEnviado=!1})).subscribe({next:e=>{this.tokenService.saveToken(e.data),this.router.navigate(["/dashboard"],{replaceUrl:!0})},error:e=>{this.hasError=!0,this.messageError=e.error.message}}):(this.loginForm.markAllAsTouched(),void(this.formEnviado=!1))}getControl(t){return this.loginForm.get(t)}}return(n=l).\u0275fac=function(t){return new(t||n)(o.rXU(a.ok),o.rXU(v.Ix),o.rXU(C.o),o.rXU(u.K_),o.rXU(P.B))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],standalone:!1,decls:14,vars:9,consts:[["fullscreen","",1,"login-page"],[1,"center-wrapper"],[1,"login-card",3,"formGroup"],["src","assets/logo.png","alt","Logo",1,"logo"],[1,"form-title"],[1,"ion-padding","custom-alert","warning"],["autocomplete","username","formControlName","user","placeholder","Usuario (Correo de contacto)","type","text",1,"input",3,"ionBlur"],["color","danger",4,"ngIf"],["autocomplete","current-password","formControlName","password","placeholder","Contrase\xf1a","type","password",1,"input",3,"ionBlur"],["slot","end"],["expand","block","shape","round",1,"login-button",3,"click","disabled"],["color","danger"]],template:function(t,e){if(1&t&&(o.j41(0,"ion-content",0)(1,"div",1)(2,"div",2),o.nrm(3,"img",3),o.j41(4,"h2",4),o.EFF(5,"Inicia Sesi\xf3n"),o.k0s(),o.DNE(6,b,3,1,"div",5),o.j41(7,"ion-input",6),o.bIt("ionBlur",function(){let r;return null==(r=e.getControl("user"))?null:r.markAsTouched()}),o.k0s(),o.DNE(8,x,2,0,"ion-text",7),o.j41(9,"ion-input",8),o.bIt("ionBlur",function(){let r;return null==(r=e.getControl("password"))?null:r.markAsTouched()}),o.nrm(10,"ion-input-password-toggle",9),o.k0s(),o.DNE(11,F,2,0,"ion-text",7),o.j41(12,"ion-button",10),o.bIt("click",function(){return e.onSubmit()}),o.EFF(13,"ENTRAR"),o.k0s()()()()),2&t){let s,r,d,p;o.R7$(2),o.Y8G("formGroup",e.loginForm),o.R7$(4),o.vxM(e.hasError?6:-1),o.R7$(),o.AVh("invalid",(null==(s=e.getControl("user"))?null:s.invalid)&&(null==(s=e.getControl("user"))?null:s.touched)),o.R7$(),o.Y8G("ngIf",(null==(r=e.getControl("user"))?null:r.invalid)&&(null==(r=e.getControl("user"))?null:r.touched)),o.R7$(),o.AVh("invalid",(null==(d=e.getControl("password"))?null:d.invalid)&&(null==(d=e.getControl("password"))?null:d.touched)),o.R7$(2),o.Y8G("ngIf",(null==(p=e.getControl("password"))?null:p.invalid)&&(null==(p=e.getControl("password"))?null:p.touched)),o.R7$(),o.Y8G("disabled",e.formEnviado)}},dependencies:[m.bT,a.BC,a.cb,u.Jm,u.W9,u.$w,u.Wv,u.IO,u.Gw,a.j4,a.JD],styles:[".login-page[_ngcontent-%COMP%]{--background: #ffffff;height:100%}.center-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.login-card[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:20px;width:90%;max-width:500px;padding:40px 20px 100px;box-shadow:0 4px 12px #0000001a;text-align:center;overflow:hidden;display:flex;flex-direction:column;align-items:center}.form-title[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;margin-bottom:20px}.input[_ngcontent-%COMP%]{margin:12px 0;--background: #f1f1f1;--border-radius: 30px;--padding-start: 16px;--padding-end: 16px;width:100%;color:#2c3e50!important;border:1px solid transparent;border-radius:30px;border-color:#000;transition:border-color .3s ease}.input.invalid[_ngcontent-%COMP%]{border-color:var(--ion-color-danger, red)}.login-button[_ngcontent-%COMP%]{--background: #0d3b66;font-weight:700;color:#fff}"]}),l})()}];let E=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[f.iI.forChild(L),f.iI]}),l})(),w=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[m.MD,a.YN,u.bv,E,a.X1]}),l})()}}]);