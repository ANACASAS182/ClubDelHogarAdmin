"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7084],{6231:(R,f,n)=>{n.d(f,{$u:()=>m,Cn:()=>r});var m=function(l){return l[l.Admin=1]="Admin",l[l.Socio=2]="Socio",l[l.Embajadores=3]="Embajadores",l}(m||{});const P={Admin:"Administrador",Socio:"Socio",Embajadores:"Embajador"};function r(){return Object.keys(m).filter(l=>isNaN(Number(l))).map(l=>({nombre:P[l],valor:m[l]}))}},7084:(R,f,n)=>{n.r(f),n.d(f,{DashboardPageModule:()=>J});var m=n(2881),P=n(9417),r=n(3092),l=n(9870),C=n(467),u=function(o){return o[o.Grupos=1]="Grupos",o[o.Empresas=2]="Empresas",o[o.Embajadores=3]="Embajadores",o[o.Celulas=4]="Celulas",o[o.Productos=5]="Productos",o[o.Referencias=6]="Referencias",o[o.Movimientos=7]="Movimientos",o[o.Configuraci\u00f3n=8]="Configuraci\xf3n",o[o.CorteMensual=9]="CorteMensual",o}(u||{}),c=n(6231),t=n(1360),p=n(2101),$=n(2091),v=n(7248);const y=()=>["/dashboard/celulas"],F=()=>({view:"empresa"}),x=()=>["/dashboard/embajadores-diagrama"];function G(o,a){if(1&o&&(t.j41(0,"ion-item",13),t.nrm(1,"ion-icon",15),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()),2&o){const s=t.XpG().$implicit;t.Y8G("routerLink",s.url),t.R7$(),t.Y8G("ios",s.icon+"-outline")("md",s.icon+"-sharp"),t.R7$(2),t.JRh(s.title)}}function O(o,a){1&o&&(t.j41(0,"ion-accordion-group",14)(1,"ion-accordion",16)(2,"ion-item",17),t.nrm(3,"ion-icon",18),t.j41(4,"ion-label"),t.EFF(5,"C\xe9lulas"),t.k0s()(),t.j41(6,"div",19)(7,"ion-menu-toggle",3)(8,"ion-item",20)(9,"ion-label"),t.EFF(10,"Empresa"),t.k0s()()(),t.j41(11,"ion-menu-toggle",3)(12,"ion-item",21)(13,"ion-label"),t.EFF(14,"Embajadores"),t.k0s()()()()()()),2&o&&(t.R7$(3),t.Y8G("ios","grid-outline")("md","grid-sharp"),t.R7$(5),t.Y8G("routerLink",t.lJ4(5,y))("queryParams",t.lJ4(6,F)),t.R7$(4),t.Y8G("routerLink",t.lJ4(7,x)))}function S(o,a){if(1&o&&(t.j41(0,"ion-menu-toggle",3),t.DNE(1,G,4,4,"ion-item",13),t.k0s(),t.DNE(2,O,15,8,"ion-accordion-group",14)),2&o){const s=a.$implicit,e=t.XpG();t.R7$(),t.vxM(s.visible&&s.enum!==e.MenuPagesEnum.Celulas?1:-1),t.R7$(),t.vxM(s.visible&&s.enum===e.MenuPagesEnum.Referencias&&e.celulasVisible?2:-1)}}let V=(()=>{var o;class a{constructor(e,i,d,g,D){this.router=e,this.route=i,this.tokenService=d,this.datePipe=g,this.usuarioService=D,this.MenuPagesEnum=u,this.appPages=[{enum:u.Grupos,title:"Grupos",url:"/dashboard/grupos",icon:"people",visible:!1,access:[c.$u.Admin]},{enum:u.Empresas,title:"Empresas",url:"/dashboard/empresas",icon:"business",visible:!1,access:[c.$u.Admin]},{enum:u.Embajadores,title:"Embajadores",url:"/dashboard/embajadores",icon:"flag",visible:!1,access:[c.$u.Admin]},{enum:u.Celulas,title:"C\xe9lulas",url:"/dashboard/celulas",icon:"grid",visible:!1,access:[c.$u.Admin]},{enum:u.Productos,title:"Productos",url:"/dashboard/productos",icon:"archive",visible:!1,access:[c.$u.Admin,c.$u.Socio]},{enum:u.Referencias,title:"Referencias",url:"/dashboard/referencias",icon:"star",visible:!1,access:[c.$u.Admin,c.$u.Socio]},{enum:u.Configuraci\u00f3n,title:"Periodos",url:"/dashboard/periodos",icon:"calendar",visible:!1,access:[c.$u.Admin]},{enum:u.CorteMensual,title:"Corte mensual",url:"/dashboard/corte",icon:"calendar",visible:!1,access:[c.$u.Admin]},{enum:u.Configuraci\u00f3n,title:"Configuraci\xf3n",url:"/dashboard/configuracion",icon:"settings",visible:!1,access:[c.$u.Admin,c.$u.Socio]}],this.userName="",this.celulasVisible=!1}ngOnInit(){const i=this.route.snapshot.data.resolverData.usuario;this.userName=`${i.nombres} ${i.apellidos}`,i.roles&&(this.appPages.forEach(d=>{d.visible=d.access.includes(i.roles.enumValue)}),this.celulasVisible=!!this.appPages.find(d=>d.enum===u.Celulas&&d.visible))}ngOnDestroy(){}logout(){var e=this;return(0,C.A)(function*(){yield e.tokenService.removeToken(),e.appPages.forEach(i=>i.visible=!1),e.celulasVisible=!1,e.router.navigate(["/login"],{replaceUrl:!0})})()}}return(o=a).\u0275fac=function(e){return new(e||o)(t.rXU(p.Ix),t.rXU(p.nX),t.rXU($.B),t.rXU(m.vh),t.rXU(v.o))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-dashboard"]],standalone:!1,decls:22,vars:1,consts:[["contentId","main-content"],["contentId","main-content","type","overlay",1,"custom-menu"],["id","inbox-list"],["auto-hide","false"],["src","../../../assets/logo.PNG","alt","Logo",1,"logo"],[1,"menu-separator"],["auto-hide","false",2,"margin-bottom","100px"],[1,"name-text"],[2,"height","10px"],[1,"logout-button-container"],["expand","block","color","light","size","small",3,"click"],["slot","start","name","power"],["id","main-content",1,"ion-page"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],[1,"menu-accordion"],["color","white","aria-hidden","true","slot","start",3,"ios","md"],["value","celulas"],["slot","header","lines","none","detail","false",1,"celulas-header"],["slot","start","color","white",3,"ios","md"],["slot","content",1,"submenu"],["lines","none","detail","false","routerDirection","root",3,"routerLink","queryParams"],["lines","none","detail","false","routerDirection","root",3,"routerLink"]],template:function(e,i){1&e&&(t.j41(0,"ion-content")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-menu-toggle",3),t.nrm(6,"img",4),t.k0s(),t.Z7z(7,S,3,2,null,null,t.fX1),t.nrm(9,"div",5),t.j41(10,"ion-menu-toggle",6)(11,"span",7),t.EFF(12),t.k0s()(),t.nrm(13,"div",8),t.j41(14,"ion-menu-toggle",3)(15,"div",9)(16,"ion-button",10),t.bIt("click",function(){return i.logout()}),t.nrm(17,"ion-icon",11),t.EFF(18," Cerrar Sesi\xf3n "),t.k0s()()()()()(),t.j41(19,"div",12)(20,"ion-content"),t.nrm(21,"ion-router-outlet"),t.k0s()()()()),2&e&&(t.R7$(7),t.Dyx(i.appPages),t.R7$(5),t.JRh(i.userName))},dependencies:[r.xk,r.YH,r.Jm,r.W9,r.iq,r.uz,r.he,r.nf,r.oS,r.cA,r.HP,r.Rg,r.N7,l.Wk,l.wQ],styles:[".userLabel[_ngcontent-%COMP%]{color:#001744;font-weight:700;font-size:18px}.buttonHeader[_ngcontent-%COMP%]{--color: #001744;font-weight:700;font-size:12px}.menu-separator[_ngcontent-%COMP%]{height:1px;background-color:#fff;margin:10px}.logout-button-container[_ngcontent-%COMP%]{justify-content:center;margin:0 10px}.name-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:700;font-size:14px;margin:0 10px;justify-content:center}.menu-accordion[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{padding-left:44px}",".menu-accordion[_ngcontent-%COMP%]   .ion-accordion-toggle-icon[_ngcontent-%COMP%], .menu-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]::part(toggle-icon){display:none!important}.celulas-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff!important}"]}),a})();var E=n(1620),I=n(9350);let h=(()=>{var o;class a{constructor(e,i,d){this.userService=e,this.toastController=i,this.router=d}canActivate(){var e=this;return(0,C.A)(function*(){var i;const d=yield function N(o,a){const s="object"==typeof a;return new Promise((e,i)=>{let g,d=!1;o.subscribe({next:D=>{g=D,d=!0},error:i,complete:()=>{d?e(g):s?e(a.defaultValue):i(new I.G)}})})}(e.userService.getUsuario());return null!=d.data.roles&&(null===(i=d.data.roles)||void 0===i?void 0:i.enumValue)==c.$u.Admin||(yield e.showToast("No tienes permiso para acceder a esta secci\xf3n"),e.router.navigate(["/dashboard"]),!1)})()}showToast(e){var i=this;return(0,C.A)(function*(){(yield i.toastController.create({message:e,duration:4e3,position:"bottom",color:"danger"})).present()})()}}return(o=a).\u0275fac=function(e){return new(e||o)(t.KVO(v.o),t.KVO(r.K_),t.KVO(p.Ix))},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var b=n(7468),j=n(7673),A=n(6354),M=n(9437);const U=[{path:"",component:V,canActivate:[E.q],children:[{path:"inicio",loadChildren:()=>n.e(1169).then(n.bind(n,1169)).then(o=>o.InicioPageModule)},{path:"grupos",loadChildren:()=>Promise.all([n.e(4495),n.e(673)]).then(n.bind(n,673)).then(o=>o.GrupoSociosPageModule),canActivate:[h]},{path:"empresas",loadChildren:()=>Promise.all([n.e(4495),n.e(2906),n.e(7656)]).then(n.bind(n,7656)).then(o=>o.EmpresasPageModule),canActivate:[h]},{path:"embajadores",loadChildren:()=>Promise.all([n.e(4495),n.e(2906),n.e(2076),n.e(7705)]).then(n.bind(n,7705)).then(o=>o.EmbajadoresPageModule),canActivate:[h]},{path:"celulas",loadChildren:()=>n.e(7273).then(n.bind(n,7273)).then(o=>o.CelulasPageModule),canActivate:[h]},{path:"productos",loadChildren:()=>Promise.all([n.e(4495),n.e(2906),n.e(9640),n.e(2076),n.e(1824)]).then(n.bind(n,1824)).then(o=>o.ProductosPageModule),resolve:{resolverData:(()=>{var o;class a{constructor(e){this.usuarioService=e}resolve(){return(0,b.p)({usuario:this.usuarioService.getUsuario().pipe((0,A.T)(e=>e.data),(0,M.W)(()=>(0,j.of)([])))})}}return(o=a).\u0275fac=function(e){return new(e||o)(t.KVO(v.o))},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})()}},{path:"referencias",loadChildren:()=>Promise.all([n.e(4495),n.e(2906),n.e(667)]).then(n.bind(n,667)).then(o=>o.ReferenciasPageModule),resolve:{resolverData:(()=>{var o;class a{constructor(e){this.usuarioService=e}resolve(){return(0,b.p)({usuario:this.usuarioService.getUsuario().pipe((0,A.T)(e=>e.data),(0,M.W)(()=>(0,j.of)([])))})}}return(o=a).\u0275fac=function(e){return new(e||o)(t.KVO(v.o))},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})()}},{path:"movimientos",loadChildren:()=>n.e(9348).then(n.bind(n,9348)).then(o=>o.MovimientosPageModule),canActivate:[h]},{path:"configuracion",loadChildren:()=>n.e(8746).then(n.bind(n,8746)).then(o=>o.ConfiguracionPageModule)},{path:"periodos",loadChildren:()=>Promise.all([n.e(4495),n.e(9640),n.e(2076),n.e(3076)]).then(n.bind(n,3076)).then(o=>o.PeriodosPageModule),canActivate:[h]},{path:"corte",loadChildren:()=>Promise.all([n.e(2076),n.e(8412)]).then(n.bind(n,8412)).then(o=>o.CorteMensualPageModule),canActivate:[h]},{path:"corteMensual",loadChildren:()=>Promise.all([n.e(2076),n.e(8412)]).then(n.bind(n,8412)).then(o=>o.CorteMensualPageModule),canActivate:[h]},{path:"embajadores-diagrama",loadChildren:()=>n.e(514).then(n.bind(n,514)).then(o=>o.EmbajadoresDiagramaModule)}]}];let X=(()=>{var o;class a{}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[l.iI.forChild(U),l.iI]}),a})(),J=(()=>{var o;class a{}return(o=a).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[m.MD,P.YN,r.bv,X]}),a})()}}]);