"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7084],{6231:(R,f,t)=>{t.d(f,{$u:()=>m,Cn:()=>l});var m=function(r){return r[r.Admin=1]="Admin",r[r.Socio=2]="Socio",r[r.Embajadores=3]="Embajadores",r}(m||{});const P={Admin:"Administrador",Socio:"Socio",Embajadores:"Embajador"};function l(){return Object.keys(m).filter(r=>isNaN(Number(r))).map(r=>({nombre:P[r],valor:m[r]}))}},7084:(R,f,t)=>{t.r(f),t.d(f,{DashboardPageModule:()=>U});var m=t(2881),P=t(9417),l=t(3092),r=t(9870),C=t(467),u=function(o){return o[o.Grupos=1]="Grupos",o[o.Empresas=2]="Empresas",o[o.Embajadores=3]="Embajadores",o[o.Celulas=4]="Celulas",o[o.Productos=5]="Productos",o[o.Referencias=6]="Referencias",o[o.Movimientos=7]="Movimientos",o[o.Configuraci\u00f3n=8]="Configuraci\xf3n",o}(u||{}),c=t(6231),e=t(1360),D=t(2101),$=t(2091),g=t(7248);function S(o,a){if(1&o&&(e.j41(0,"ion-item",13),e.nrm(1,"ion-icon",14),e.j41(2,"ion-label"),e.EFF(3),e.k0s()()),2&o){const i=e.XpG().$implicit;e.Y8G("routerLink",i.url),e.R7$(),e.Y8G("ios",i.icon+"-outline")("md",i.icon+"-sharp"),e.R7$(2),e.JRh(i.title)}}function x(o,a){if(1&o&&(e.j41(0,"ion-menu-toggle",3),e.DNE(1,S,4,4,"ion-item",13),e.k0s()),2&o){const i=a.$implicit;e.R7$(),e.vxM(i.visible?1:-1)}}let F=(()=>{var o;class a{constructor(n,s,d,h,p){this.router=n,this.route=s,this.tokenService=d,this.datePipe=h,this.usuarioService=p,this.appPages=[{enum:u.Grupos,title:"Grupo de Socios",url:"/dashboard/grupos",icon:"people",visible:!1,access:[c.$u.Admin]},{enum:u.Empresas,title:"Empresas Socias",url:"/dashboard/empresas",icon:"business",visible:!1,access:[c.$u.Admin]},{enum:u.Embajadores,title:"Embajadores",url:"/dashboard/embajadores",icon:"flag",visible:!1,access:[c.$u.Admin]},{enum:u.Celulas,title:"Celulas",url:"/dashboard/celulas",icon:"grid",visible:!1,access:[c.$u.Admin]},{enum:u.Productos,title:"Productos a Promocionar",url:"/dashboard/productos",icon:"archive",visible:!1,access:[c.$u.Admin,c.$u.Socio]},{enum:u.Referencias,title:"Referencias",url:"/dashboard/referencias",icon:"star",visible:!1,access:[c.$u.Admin,c.$u.Socio]},{enum:u.Configuraci\u00f3n,title:"Corte mensual / Tabla de periodos",url:"/dashboard/periodos",icon:"calendar",visible:!1,access:[c.$u.Admin]},{enum:u.Configuraci\u00f3n,title:"Configuraci\xf3n",url:"/dashboard/configuracion",icon:"settings",visible:!1,access:[c.$u.Admin,c.$u.Socio]}],this.userName=""}ngOnDestroy(){}ngOnInit(){let s=this.route.snapshot.data.resolverData.usuario;this.userName=s.nombres+" "+s.apellidos,null!=s.roles&&this.appPages.forEach(d=>{var h;d.visible=!!d.access.includes(null===(h=s.roles)||void 0===h?void 0:h.enumValue)})}logout(){var n=this;return(0,C.A)(function*(){yield n.tokenService.removeToken(),n.appPages.forEach(s=>s.visible=!1),n.router.navigate(["/login"],{replaceUrl:!0})})()}}return(o=a).\u0275fac=function(n){return new(n||o)(e.rXU(D.Ix),e.rXU(D.nX),e.rXU($.B),e.rXU(m.vh),e.rXU(g.o))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-dashboard"]],standalone:!1,decls:22,vars:1,consts:[["contentId","main-content"],["contentId","main-content","type","overlay",1,"custom-menu"],["id","inbox-list"],["auto-hide","false"],["src","../../../assets/logo.PNG","alt","Logo",1,"logo"],[1,"menu-separator"],["auto-hide","false",2,"margin-bottom","100px"],[1,"name-text"],[2,"height","10px"],[1,"logout-button-container"],["expand","block","color","light","size","small",3,"click"],["slot","start","name","power"],["id","main-content",1,"ion-page"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["color","white","aria-hidden","true","slot","start",3,"ios","md"]],template:function(n,s){1&n&&(e.j41(0,"ion-content")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-menu-toggle",3),e.nrm(6,"img",4),e.k0s(),e.Z7z(7,x,2,1,"ion-menu-toggle",3,e.fX1),e.nrm(9,"div",5),e.j41(10,"ion-menu-toggle",6)(11,"span",7),e.EFF(12),e.k0s()(),e.nrm(13,"div",8),e.j41(14,"ion-menu-toggle",3)(15,"div",9)(16,"ion-button",10),e.bIt("click",function(){return s.logout()}),e.nrm(17,"ion-icon",11),e.EFF(18," Cerrar Sesi\xf3n "),e.k0s()()()()()(),e.j41(19,"div",12)(20,"ion-content"),e.nrm(21,"ion-router-outlet"),e.k0s()()()()),2&n&&(e.R7$(7),e.Dyx(s.appPages),e.R7$(5),e.JRh(s.userName))},dependencies:[l.Jm,l.W9,l.iq,l.uz,l.he,l.nf,l.oS,l.cA,l.HP,l.Rg,l.N7,r.Wk,r.wQ],styles:[".userLabel[_ngcontent-%COMP%]{color:#001744;font-weight:700;font-size:18px}.buttonHeader[_ngcontent-%COMP%]{--color: #001744;font-weight:700;font-size:12px}.menu-separator[_ngcontent-%COMP%]{height:1px;background-color:#fff;margin:10px}.logout-button-container[_ngcontent-%COMP%]{justify-content:center;margin:0 10px}.name-text[_ngcontent-%COMP%]{color:#fff!important;font-weight:700;font-size:14px;margin:0 10px;justify-content:center}"]}),a})();var G=t(1620),M=t(9350);let v=(()=>{var o;class a{constructor(n,s,d){this.userService=n,this.toastController=s,this.router=d}canActivate(){var n=this;return(0,C.A)(function*(){var s;const d=yield function O(o,a){const i="object"==typeof a;return new Promise((n,s)=>{let h,d=!1;o.subscribe({next:p=>{h=p,d=!0},error:s,complete:()=>{d?n(h):i?n(a.defaultValue):s(new M.G)}})})}(n.userService.getUsuario());return null!=d.data.roles&&(null===(s=d.data.roles)||void 0===s?void 0:s.enumValue)==c.$u.Admin||(yield n.showToast("No tienes permiso para acceder a esta secci\xf3n"),n.router.navigate(["/dashboard"]),!1)})()}showToast(n){var s=this;return(0,C.A)(function*(){(yield s.toastController.create({message:n,duration:4e3,position:"bottom",color:"danger"})).present()})()}}return(o=a).\u0275fac=function(n){return new(n||o)(e.KVO(g.o),e.KVO(l.K_),e.KVO(D.Ix))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var A=t(7468),b=t(7673),j=t(6354),y=t(9437);const N=[{path:"",component:F,canActivate:[G.q],children:[{path:"inicio",loadChildren:()=>t.e(1169).then(t.bind(t,1169)).then(o=>o.InicioPageModule)},{path:"grupos",loadChildren:()=>Promise.all([t.e(4495),t.e(673)]).then(t.bind(t,673)).then(o=>o.GrupoSociosPageModule),canActivate:[v]},{path:"empresas",loadChildren:()=>Promise.all([t.e(4495),t.e(2906),t.e(7656)]).then(t.bind(t,7656)).then(o=>o.EmpresasPageModule),canActivate:[v]},{path:"embajadores",loadChildren:()=>Promise.all([t.e(4495),t.e(2906),t.e(7061)]).then(t.bind(t,7061)).then(o=>o.EmbajadoresPageModule),canActivate:[v]},{path:"celulas",loadChildren:()=>t.e(7273).then(t.bind(t,7273)).then(o=>o.CelulasPageModule),canActivate:[v]},{path:"productos",loadChildren:()=>Promise.all([t.e(4495),t.e(2906),t.e(9640),t.e(4599)]).then(t.bind(t,4599)).then(o=>o.ProductosPageModule),resolve:{resolverData:(()=>{var o;class a{constructor(n){this.usuarioService=n}resolve(){return(0,A.p)({usuario:this.usuarioService.getUsuario().pipe((0,j.T)(n=>n.data),(0,y.W)(()=>(0,b.of)([])))})}}return(o=a).\u0275fac=function(n){return new(n||o)(e.KVO(g.o))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})()}},{path:"referencias",loadChildren:()=>Promise.all([t.e(4495),t.e(2906),t.e(667)]).then(t.bind(t,667)).then(o=>o.ReferenciasPageModule),resolve:{resolverData:(()=>{var o;class a{constructor(n){this.usuarioService=n}resolve(){return(0,A.p)({usuario:this.usuarioService.getUsuario().pipe((0,j.T)(n=>n.data),(0,y.W)(()=>(0,b.of)([])))})}}return(o=a).\u0275fac=function(n){return new(n||o)(e.KVO(g.o))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})()}},{path:"movimientos",loadChildren:()=>t.e(9348).then(t.bind(t,9348)).then(o=>o.MovimientosPageModule),canActivate:[v]},{path:"configuracion",loadChildren:()=>t.e(8746).then(t.bind(t,8746)).then(o=>o.ConfiguracionPageModule)},{path:"periodos",loadChildren:()=>Promise.all([t.e(4495),t.e(9640),t.e(5685)]).then(t.bind(t,5685)).then(o=>o.PeriodosPageModule),canActivate:[v]}]}];let V=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[r.iI.forChild(N),r.iI]}),a})(),U=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[m.MD,P.YN,l.bv,V]}),a})()}}]);