"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2693],{2693:(_,g,s)=>{s.r(g),s.d(g,{RegistroPageModule:()=>x});var d=s(2881),c=s(9417),l=s(3092),u=s(9870),o=s(1360),p=s(2101),m=s(7248);function f(t,a){if(1&t){const n=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"h1"),o.EFF(3,"Embassy te da la bienvenida"),o.k0s(),o.j41(4,"p")(5,"strong"),o.EFF(6,"Fuiste invitado por:"),o.k0s(),o.EFF(7),o.k0s(),o.j41(8,"div",5)(9,"small")(10,"strong"),o.EFF(11,"C\xf3digo de invitaci\xf3n:"),o.k0s(),o.EFF(12),o.k0s()(),o.j41(13,"div",6),o.nrm(14,"ion-input",7),o.k0s(),o.j41(15,"div",6)(16,"ion-input",8),o.mxI("ngModelChange",function(e){o.eBV(n);const r=o.XpG();return o.DH7(r.password,e)||(r.password=e),o.Njj(e)}),o.k0s()(),o.j41(17,"div",6)(18,"ion-input",9),o.mxI("ngModelChange",function(e){o.eBV(n);const r=o.XpG();return o.DH7(r.confirmPassword,e)||(r.confirmPassword=e),o.Njj(e)}),o.k0s()(),o.j41(19,"div",10)(20,"input",11),o.mxI("ngModelChange",function(e){o.eBV(n);const r=o.XpG();return o.DH7(r.aceptaTerminos,e)||(r.aceptaTerminos=e),o.Njj(e)}),o.k0s(),o.j41(21,"label",12),o.EFF(22,"Aceptar "),o.j41(23,"a",13),o.EFF(24,"t\xe9rminos y condiciones"),o.k0s()()(),o.j41(25,"button",14),o.bIt("click",function(){o.eBV(n);const e=o.XpG();return o.Njj(e.registrarUsuario())}),o.EFF(26,"Registrarme"),o.k0s()(),o.bVm()}if(2&t){const n=o.XpG();o.R7$(7),o.SpI(" ",n.usuarioInvita,""),o.R7$(5),o.SpI(" ",n.codigoInvitacion,""),o.R7$(2),o.Y8G("value",n.email),o.R7$(2),o.R50("ngModel",n.password),o.R7$(2),o.R50("ngModel",n.confirmPassword),o.R7$(2),o.R50("ngModel",n.aceptaTerminos),o.R7$(5),o.Y8G("disabled",!n.formularioValido())}}function h(t,a){1&t&&(o.j41(0,"div",15)(1,"h2"),o.EFF(2,"Tu cuenta ha sido creada"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Descarga la aplicaci\xf3n de Embassy para acceder a tu cuenta y comenzar a generar ingresos."),o.k0s(),o.j41(5,"div",16)(6,"a",17),o.nrm(7,"img",18),o.k0s(),o.j41(8,"a",19),o.nrm(9,"img",20),o.k0s()()())}const v=[{path:"",component:(()=>{var t;class a{constructor(i,e){this.route=i,this.usuarioService=e,this.usuarioInvita="",this.codigoInvitacion="",this.email="",this.EmbajadorReferenteId=0,this.password="",this.confirmPassword="",this.aceptaTerminos=!1,this.registroExitoso=!1,this.cargando=!1,this.enviando=!1}ngOnInit(){this.route.paramMap.subscribe(i=>{this.codigoInvitacion=i.get("codigo")||"",this.codigoInvitacion&&(this.cargando=!0,this.usuarioService.GetDatosInvitacion(this.codigoInvitacion).subscribe({next:e=>{this.usuarioInvita=(null==e?void 0:e.nombreInvitador)||"",this.email=((null==e?void 0:e.correoElectronicoInvitacion)||"").toLowerCase(),this.EmbajadorReferenteId=(null==e?void 0:e.embajadorReferenteId)||0,this.cargando=!1},error:()=>{this.cargando=!1,alert("No se pudo validar el c\xf3digo de invitaci\xf3n.")}}))})}formularioValido(){return!!this.email&&!!this.codigoInvitacion&&this.password.length>=6&&this.password===this.confirmPassword&&this.aceptaTerminos&&!this.cargando&&!this.enviando}registrarUsuario(){if(!this.formularioValido())return void alert("Verifica que todos los campos est\xe9n completos correctamente.");this.enviando=!0;const i={email:this.email.trim().toLowerCase(),password:this.password,codigoInvitacion:this.codigoInvitacion};this.usuarioService.RegistroUsuarioCodigoInvitacion(i).subscribe({next:e=>{this.enviando=!1,null!=e&&e.success?this.registroExitoso=!0:alert((null==e?void 0:e.message)||"No se pudo completar el registro.")},error:e=>{var r;this.enviando=!1,alert("Error al registrar: "+((null==e||null===(r=e.error)||void 0===r?void 0:r.message)||"intenta m\xe1s tarde"))}})}}return(t=a).\u0275fac=function(i){return new(i||t)(o.rXU(p.nX),o.rXU(m.o))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-registro"]],standalone:!1,decls:5,vars:3,consts:[["mensajeExito",""],[3,"fullscreen"],[1,"registro-scroll"],[4,"ngIf","ngIfElse"],[1,"registro-container"],[1,"codigo-invitacion"],[1,"form-group"],["label-placement","floating","label","Correo electr\xf3nico","type","email","id","email","disabled","",1,"inputForm",3,"value"],["label-placement","floating","label","Ingresa tu contrase\xf1a","type","password","id","password",1,"inputForm",3,"ngModelChange","ngModel"],["label-placement","floating","label","Confirmar contrase\xf1a","type","password","id","confirmPassword",1,"inputForm",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],["type","checkbox","id","terminos",3,"ngModelChange","ngModel"],["for","terminos"],["href","#"],[3,"click","disabled"],[1,"registro-exitoso"],[1,"app-links"],["href","https://play.google.com/store/apps/details?id=com.embassybusiness.app","target","_blank"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg","alt","Google Play"],["href","https://apps.apple.com/mx/app/embassy/id6747898144","target","_blank"],["src","https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg","alt","App Store"]],template:function(i,e){if(1&i&&(o.j41(0,"ion-content",1)(1,"div",2),o.DNE(2,f,27,7,"ng-container",3)(3,h,10,0,"ng-template",null,0,o.C5r),o.k0s()()),2&i){const r=o.sdS(4);o.Y8G("fullscreen",!0),o.R7$(2),o.Y8G("ngIf",!e.registroExitoso)("ngIfElse",r)}},dependencies:[d.bT,c.Zm,c.BC,c.vS,l.W9,l.$w,l.Gw],styles:["[_nghost-%COMP%]{display:block;padding:1rem;background-color:#fff;color:#000}.registro-container[_ngcontent-%COMP%], .registro-exitoso[_ngcontent-%COMP%]{max-width:100%;width:100%;max-width:480px;margin:auto;padding:2rem;border:1px solid #ccc;border-radius:8px;box-sizing:border-box;background-color:#fff}.codigo-invitacion[_ngcontent-%COMP%]{border:1px dashed #888;padding:.75rem;margin-bottom:1rem;background-color:#f9f9f9;text-align:center;font-size:.9rem;color:#444}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem;display:flex;flex-direction:column}.checkbox-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#07c;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:700}button[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}.registro-exitoso[_ngcontent-%COMP%]{text-align:center;border:1px solid #4caf50;border-radius:8px;background-color:#e8f5e9}.app-links[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;gap:1rem;align-items:center}.app-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:auto}@media (min-width: 480px){.app-links[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}.registro-scroll[_ngcontent-%COMP%]{height:100%;overflow-y:auto;box-sizing:border-box;padding:24px 16px 40px}.registro-container[_ngcontent-%COMP%], .registro-exitoso[_ngcontent-%COMP%]{max-width:520px;margin:0 auto}"]}),a})()}];let b=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[u.iI.forChild(v),u.iI]}),a})(),x=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[d.MD,c.YN,l.bv,b]}),a})()}}]);